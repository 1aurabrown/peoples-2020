<section class="images-with-text half-grid {% if layout == 'right' %} grid-reverse {% endif %} {{ class_name }}">

  <div class="images-with-text__images max-padded-full-height overflow-hidden f fdr y">
    {% if settings.image != blank %}
      <div class="images-with-text__image x y">
        <responsive-img-tag
          alt="{{ settings.heading }}"
          class-name="x y"
          :src='{{ settings.image | json }}'>
        </responsive-img-tag>
      </div>
    {% else %}
      {% for i in (1..5) %}
        {% assign image_key = 'image_' | append: i %}
        {% assign image_i = settings[image_key] %}
        {% if image_i != blank %}
          <div class="images-with-text__image x y">
            <responsive-img-tag
              alt="{{ settings.heading }}"
              class-name="x y"
              :src='{{ image_i | json }}'>
            </responsive-img-tag>
          </div>
        {% endif %}
      {% endfor %}
    {% endif %}
  </div>

  <div class="images-with-text__text al">
    <div class="images-with-text__content fdc jcb x y">

      {% if settings.heading != blank %}
        <h2 class="images-with-text__heading uppercase">{{ settings.heading | escape }}</h2>
      {% endif %}

      <div class="images-with-text__p">
        {% if settings.text != blank %}
          <div>{{ settings.text }}</div>
        {% endif %}

        {% if settings.button_label != blank and settings.button_link != blank %}
          <a href="{{ settings.button_link }}" class="button images-with-text__button">
            {{ settings.button_label | escape }}
          </a>
        {% endif %}

      </div>
    </div>
  </div>
</section>

{% assign settings = blank %}
{% assign layout = blank %}
{% assign class_name = blank %}
